{% extends "projects/base.html" %}
{% load staticfiles %}
{% block content %}
<input id="csrf_token" type="hidden" name="csrfmiddlewaretoken" value="{{ csrf_token }}">
    {%if pCount == 0 %} 
        <script>
            alert("You don't have any private projects, the page will be redirected to project creating page.");
            window.location.replace(window.SERVER_PATH + 'projects/add/');
        </script>
    {%endif%}
	<div class="container-fluid">
		<div class="col-md-2">
			<div>
				<label>Project List</label>
	            <select class="selectpicker" data-live-search="true" data-width="100%" id="vis_sel_project">
                    <option value=""></option>
                    <optgroup label="My Own Project" id="vis_own_project">
                {% for project in projects %}	                
	                    <option value="{{project.id}}">{{project.name}}</option>
                    
                {% endfor %}
                </optgroup>
	            <optgroup label="Shared with Me" id="vis_shared_project">
                    {% for project in shareProjects %}	                
	                    <option value="{{project.id}}">{{project.name}}</option>
                    {% endfor %}
                    </optgroup>
	            </select>
			</div>
        	<hr>

			<div>
				<label>Visualization List</label>
	            <select class="selectpicker" data-live-search="true" data-width="100%" id="vis_list" disabled>
                    <option value=""></option>
                    <!-- <option>vis1</option> -->
	            </select>				
			</div>
			<hr>

			<div class="hide_this" id="vis_name_config">
                <label>Visualization Name</label> 
				<input type="text" id="vis_name">
				<hr>
			</div>

            <div class="hide_this" id="vis_dim_select">
                <label>Dimension List</label>
                <fieldset id="dataDimensionList"></fieldset>
                <hr>
            </div>

			<div id="vis_config_ctrl">
				<input id="btn_new_vis" class="btn btn-info btn-xs" type="button" value="New Vis Config" disabled>
                <input id="btn_save_config" class="btn btn-info btn-xs" type="button" value="Save Config" disabled>
    			<hr>
			</div>

            <div id="vis_ctrl" class="hide_this">
				<label>Visualization Control</label><br />
				<input id="btn_vis_save" class="btn btn-info btn-xs" type="button" value="Save" >
            	<input id="btn_vis_del" class="btn btn-info btn-xs" type="button" value="Delete" >
            	<hr>
            </div>

			<div id="vis_wiki_summary" class="ui-widget-content shade-container">
				<h5 id="vis_wiki_title">Wiki Summary</h5>
				<p id="vis_wiki_text"></p>
			</div>
		</div>

		<div class="col-md-10">
			<div id="biset_control"></div>
			<div id="biset_canvas"></div>
		</div>
	</div>

	<script type="text/javascript" src="{%static 'vis/js/biset.js'%}"></script>
	<script type="text/javascript" src="{%static 'vis/js/visctrl.js'%}"></script>
	<script type="text/javascript" src="{%static 'vis/js/lib/jquery-ui.min.js'%}"></script>
{% endblock %}